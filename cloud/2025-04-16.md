# 7주차
---

## 1. ELB
- 정의: 웹사이트나 앱으로 들어오는 **트래픽을 여러 곳(서버, 컨테이너 등)에 자동으로 나눠주는 서비스**

### 핵심기능
1. 분산: 트래픽을 여러 서버로 나눠서 한 서버가 과부하되지 않도록 함
2. 안전: 문제가 있는 서버는 알아서 뺴고 정상적인 서버로만 연결
3. 확장: 트래픽이 늘어나면 자동으로 처리 용량을 늘림
4. 다양한 트래픽 처리: 하나의 지역뿐 아니라 여러 지역에서 발생하는 다양한 규모의 트래픽을 관리

### 특징
- 트래픽 분산: 여러 서버에 트래픽을 나눠 처리
- 자동 상태 확인 (Health Check): 서버가 정상 작동하는지 자동으로 확인
- 자동 확장 연동: 트래픽 변화에 따라 자동으로 서버를 늘리거나 줄일 수 있음
- 다중 가용 영역 지원: 여러 지역에 서버를 분산하여 장애에 강함
- 동적 IP 주소: IP 주소가 계속 변하므로 도메인 이름으로 접근해야 함
- 3가지 종류: Application, Network, Classic Load Balancer를 제공
#### **핵심**: ELB는 트래픽을 효율적으로 관리하고, 서비스의 안정성과 확장성을 높이는 데 중요한 역할을 합니다. IP 주소는 고정되지 않으므로 도메인 기반으로 사용해야 합니다.

### 종류
1. Application Load Balancer (ALB): 똑똑함
- 트래픽 내용을 분석해서 특정 서버로 보낼 수 있습니다.
- 예시: image.test.com 요청은 이미지 서버로, web.test.com 요청은 웹 서버로 분리합니다.

2. Network Load Balancer (NLB): 빠름
- TCP 기반으로 매우 빠른 트래픽 분산이 가능합니다.
- 고정 IP 주소(Elastic IP)를 할당할 수 있습니다.

3. Classic Load Balancer (CLB): 옛날 방식
- 현재는 잘 사용되지 않습니다.

#### **핵심**: ALB는 똑똑하게 트래픽을 분류하고, NLB는 매우 빠른 속도로 트래픽을 처리합니다. CLB는 이전 세대 로드 밸런서입니다.

---

## 2. ALB

### Target Group
- 정의 : ALB가 트래픽을 분산시킬 대상(Target)을 논리적으로 묶어높은 그룹

### 중요 내용
1. 분산 대상 그룹화: EC2 인스턴스, IP 주소, Lambda 함수, 다른 ELB 타켓 그룹 등을 하나의 그룹으로 묶을 수 있습니다.
2. 라이팅 기준 : ALB는 이 타켓 그룹을 기준으로 트래픽을 분배합니다.
3. 요청 전달 흐름: ALB는 라우팅 규칙에 따라 타겟 그룹에 요청을 전달, 타켓 그룹은 상태 확인 (헬스 체크)를 통과한 실제 대상에게 트래픽을 보냄
4. 개별 설정: 각 타겟 그룹별로 사용하는 포트, 통신방식 (프로토콜), 상태 확인 (헬스 체크) 설정을 다르게 할 수 있다.
#### **핵심**: 타겟 그룹은 ALB가 실제 트래픽을 분산시킬 서버나 서비스의 집합이며, ALB의 라우팅 결정을 위한 중요한 단위입니다. 각 그룹별로 세부 설정을 할 수 있어 유연한 트래픽 관리가 가능합니다.











